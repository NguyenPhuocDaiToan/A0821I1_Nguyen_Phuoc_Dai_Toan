<div class="container  mt-4">
  <h1 class="fw-bold text-danger">Danh sách Sinh Viên</h1>
  <a routerLink="/students/create" class="btn btn-success my-2">Create</a>
  <table class="table">
    <tr class="bg-success">
      <th>STT</th>
      <th>Mã sinh viên</th>
      <th>Tên</th>
      <th>Email</th>
      <th>Số điện thoại</th>
      <th>Tên nhóm</th>
      <th>Tên đề tài</th>
      <th>GV hướng dẫn</th>
      <th>Chức năng</th>
    </tr>

    <tr *ngFor="let student of students; index as i">
      <td>{{(indexPagination - 1) * 3 + i + 1}}</td>
      <td>{{student.id}}</td>
      <td>{{student.name}}</td>
      <td>{{student.email}}</td>
      <td>{{student.phone}}</td>
      <td>{{student.group.name}}</td>
      <td>{{student.topicName}}</td>
      <td>{{student.teacher.name}}</td>
      <td>
        <button class="btn btn-outline-warning" [routerLink]="['/students/edit', student.id]">Edit</button>
        <button class="btn btn-outline-danger m-3" data-toggle="modal"
                data-target="#modalDelete" (click)="findStudentDeleteById(student.id)">
          Delete
        </button>
      </td>
    </tr>
  </table>

  <!--    Phân trang-->
  <div class="mt-3">
    <nav aria-label="Page navigation example">
      <ul class="pagination d-flex justify-content-md-end justify-content-center">
        <li class="page-item">
          <a class="page-link" (click)="firstPage()" *ngIf="indexPagination != 1">Đầu</a>
        </li>
        <li class="page-item">
          <a class="page-link" (click)="previousPage()" *ngIf="indexPagination != 1">Trang trước</a>
        </li>

        <li class="page-item col-md-1 col-2  px-0 text-center" style="line-height: 38px">
          <span>{{indexPagination}}</span>/<span>{{totalPages}}</span>
        </li>

        <li class="page-item">
          <a class="page-link" (click)="nextPage()" *ngIf="indexPagination != totalPages">Trang kế</a>
        </li>
        <li class="page-item">
          <a class="page-link" (click)="lastPage()" *ngIf="indexPagination != totalPages">Cuối</a>
        </li>
      </ul>
    </nav>
  </div>
</div>



<!-- Modal delete -->
<div class="modal fade" id="modalDelete" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Bạn có muốn xoá sinh viên này không?</h5>
      </div>
      <div class="modal-body">
        <table class="w-100">
          <tr>
            <th>Mã sinh viên</th>
            <td>{{studentDelete.id}}</td>
          </tr>
          <tr>
            <th>Tên:</th>
            <td>{{studentDelete.name}}</td>
          </tr>
          <tr>
            <th>Email:</th>
            <td>{{studentDelete.email}}</td>
          </tr>
          <tr>
            <th>Điện thoại:</th>
            <td>{{studentDelete.phone}}</td>
          </tr>
          <tr>
            <th>Tên nhóm</th>
            <td>{{studentDelete.group.name}}</td>
          </tr>
          <tr>
            <th>Tên đề tài</th>
            <td>{{studentDelete.topicName}}</td>
          </tr>
          <tr>
            <th>Giáo viên hướng dẫn</th>
            <td>{{studentDelete.teacher.name}}</td>
          </tr>
        </table>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
        <button type="button" class="btn btn-primary"
                (click)="deleteById(studentDelete.id)" data-dismiss="modal">
          Delete
        </button>
      </div>
    </div>
  </div>
</div>

