<div class="d-flex justify-content-between">
  <h1>Danh sách khách hàng</h1>
  <div class="d-flex">
    <input type="text" class="form-control mx-3" placeholder="Tìm kiến theo tên" style="width: 400px">
    <button class="btn btn-outline-success">Search</button>
  </div>
</div>
<div>
  <button class="btn btn-success my-4" routerLink="/customers/create">Create</button>
  <table class="table table-striped">
    <tr>
      <th>STT</th>
      <th>Tên</th>
      <th>Giới tính</th>
      <th>CMND</th>
      <th>Số điện thoại</th>
      <th>Email</th>
      <th>Địa chỉ</th>
      <th>Loại khách hàng</th>
      <th class="text-center">Action</th>
    </tr>
    <tr *ngFor="let customer of customers; index as i">
      <td>{{i + 1}}</td>
      <td>{{customer.name}}</td>
      <td *ngIf="customer.gender">Nam</td>
      <td *ngIf="!customer.gender">Nữ</td>
      <td>{{customer.identity_card}}</td>
      <td>{{customer.phone}}</td>
      <td>{{customer.email}}</td>
      <td>{{customer.address}}</td>
      <td>{{customer.customerType.name}}</td>
      <td class="text-center">
        <button class="btn btn-outline-warning mx-2" [routerLink]="['/customers/edit', customer.id]">
          Edit
        </button>
        <button class="btn btn-outline-danger"
                (click)="setCustomerById(customer.id)"
                data-target="#modalDelete"
                data-toggle="modal">
          Delete
        </button>
      </td>
    </tr>
  </table>
</div>

<!-- Modal delete -->
<div class="modal fade" id="modalDelete" tabindex="-1" role="dialog"
     aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Bạn có muốn xoá khách hàng này không?</h5>
      </div>
      <div class="modal-body">
        <table class="w-100">
          <tr>
            <th>Tên:</th>
            <td>{{customerTemp.name}}</td>
          </tr>
          <tr>
            <th>Giới tính:</th>
            <td *ngIf="customerTemp.gender">Nam</td>
            <td *ngIf="!customerTemp.gender">Nữ</td>
          </tr>
          <tr>
            <th>Ngày sinh:</th>
            <td>{{customerTemp.birthday | date: "dd/MM/yyyy"}}</td>
          </tr>
          <tr>
            <th>CMND/CCCD:</th>
            <td>{{customerTemp.identity_card}}</td>
          </tr>
          <tr>
            <th>Địa chỉ:</th>
            <td>{{customerTemp.address}}</td>
          </tr>
          <tr>
            <th>Email:</th>
            <td>{{customerTemp.email}}</td>
          </tr>
          <tr>
            <th>Phone:</th>
            <td>{{customerTemp.phone}}</td>
          </tr>
          <tr>
            <th>Loại khách hàng:</th>
            <td>{{customerTemp.customerType.name}}</td>
          </tr>
        </table>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
        <button type="button" class="btn btn-primary" data-dismiss="modal" (click)="delete(customerTemp.id)">Delete</button>
      </div>
    </div>
  </div>
</div>

